<!--课程播放s-->
<div >
		<div class="by">
			<div class="container-fluid">
				<div class="row">
					<div class="container-fluid">
					<div class="row"><br/></div>
					<div class="row">
						<div class="col-md-12">
							<table class="table table-bordered">
								<thead class="thead-default">
									<tr>
									  <th>
									  	<div class="col-md-1">
									  		<img src="./images/studentFaceB.png">
									  	</div>
									  	<div class="col-md-11">
									  		<b style="font-size : 2em;">{{username}}</b>
									  		<div style="margin:5px 0 0;color:#F0AD4E;">
									  			<span>当前分数:</span>
									  			<span style="margin-right: 22px;">{{formScoreSum+headleScoreSum}}分</span>
									  			<span>最高分:</span>
									  			<span style="margin-right: 22px;">{{topScore}}分</span>
									  			<span>学习时长:</span>
									  			<span>{{vm.mainservice.seconds}}</span>
									  		</div>
									  	</div>
									  </th>
							 		</tr>
								  </thead>
							</table>
						</div>
					</div>
					<div class="row">
						 <div class="col-md-12">
						 <table class="table table-bordered">
						  <thead class="thead-default">
							<tr>

							</tr>
						  </thead>
						   <tbody >
							<tr>
							  <th style="padding:0px;" scope="row" width="120px">
								<ul class="nav nav-pills nav-stacked">
									  <li class="nav-item">
										<a  class="nav-link active" ng-click="processDetails()" onclick="operate(2)">分数详情</a>
									  </li>
									  <li class="nav-item">
										<a  class="nav-link"  ng-click="getStepsDetailList();" onclick="operate(1)">操作步骤</a>
									  </li>
								</ul>
							  </th>
							  <td>
									<div class="row">
										<div class="col-md-12">
										<!-- 分数详情开始 -->
										<!--右边分数详情s-->
				<div id="operateDivId" class="learningRecordRight">
					<!--标题考察项目s-->
					<div class="stepsTittle">
						<i></i>
						<p>考察项目</p>
					</div>
					<div class="stepsTittle">
						<div style="margin-left: 250px;font-size: 1.2em;">
							<p style="font-weight: bold;">学员总分：</p>
							<p style="margin-right: 30px;">{{formScoreSum+headleScoreSum}}分</p>
							<p style="font-weight: bold;">工单得分：</p>
							<p style="margin-right: 30px;">{{formScoreSum}}分</p>
							<p style="font-weight: bold;">操作得分：</p>
							<p>{{headleScoreSum}}分</p>
						</div>
					</div>
					<!--标题“考察项目”e-->
					<div class="recordDetails">
						<!--改版之后-->
                         <div style="clear:both;text-align:center;font-size:20px;">{{formName}}</div>
						<table class="table_contain" cellpadding="0" cellspacing="0" border="1" bordercolor="#D9D9D9" rules="all">
							<tr class="table_contain_header">
								<th width="20%">项目</th>
								<th width="45%">作业记录</th>
								<th width="5%">分数</th>
								<th width="15%" style="text-align: center">正确答案</th>
								<th width="10%">应得分数</th>
							</tr>

							<tr class="table_contain_header" ng-repeat="question in vm.mainservice.sbtTestScore.question track by $index">
								<td width="20%">{{$index+1}}.{{question.description}}</td>
								<td width="80%" colspan="4" style="padding:0;" class="table_contain_body">
									<object ng-repeat="questionSon in question.question track by $index">
											<table ng-if="questionSon.type==1" frame="box" rules="all" style="width:100%;border-collapse: collapse;" cellpadding="0">
												<tr bordercolor="#D9D9D9" ng-class="{'bordTop':$index!=0}">
													<td width="524" class="table_contain_body_cols_2">
														<div class="model_6">
															<p class="question_title" style="width:70%;">{{$index+1}}.{{questionSon.description}}</p>
															<span class="select_answer">
																<span class="answer_1" ng-repeat="option in questionSon.option track by $index">
																	<i id="{{option.id}}"></i><b>{{option.description}}</b>
																</span>
															</span>
														</div>
													</td>
													<td id="score{{questionSon.id}}" width="53">
													</td>
													<td width="157">
														<span class="select_answer">
															<span class="answer_1" ng-repeat="option in questionSon.option track by $index" ng-if="option.isRight==1">
																<b>{{option.description}}</b>
															</span>
														</span>
													</td>
													<td class="text-center"><span ng-if="questionSon.rate!=0">{{questionSon.rate/vm.mainservice.sumscore*100|number:1}}</span></td>
												</tr>
											</table>
											<table ng-if="questionSon.type==2" frame="box" rules="all" style="width:100%;border-collapse: collapse;" cellpadding="0">
												<tr bordercolor="#D9D9D9" ng-class="{'bordTop':$index!=0}">
													<td width="472" class="table_contain_body_cols_2">
														<div class="model_3">
															<p class="question_title" style="width:70%;">{{$index+1}}.{{questionSon.description}}</p>
															<span class="select_answer">
																<p class="answer_1" ng-repeat="option in questionSon.option track by $index">
																	<i id="{{option.id}}"></i><b>{{option.description}}</b>
																</p>
															</span>
														</div>
													</td>
													<td width="53" id="score{{questionSon.id}}"></td>
<!--
													<td width="53">{{questionSon.rate/vm.mainservice.sumscore*100|number:1}}</td>
-->
													<td width="157">
														<span class="select_answer">
															<span class="answer_1" ng-repeat="option in questionSon.option track by $index" ng-if="option.isRight==1">
																<b>{{option.description}}</b>
															</span>
														</span>
													</td>
													<td class="text-center"><span>{{questionSon.rate/vm.mainservice.sumscore*100|number:1}}</span></td>
												</tr>
											</table>									
											<table ng-if="questionSon.type==3" frame="box" rules="all" style="width:100%;border-collapse: collapse;" cellpadding="0">
												<tr bordercolor="#D9D9D9" ng-class="{'bordTop':$index!=0}">
													<td style="margin:0px;padding:0px;" class="table_contain_body_cols_2" colspan="3">
														<div class="model_4">
															<p class="question_title">{{$index+1}}.{{questionSon.description}}</p>
															<span class="answer_table">
																<table class="table_single_four" cellpadding="0" cellspacing="0" border="1" bordercolor="#D9D9D9" rules="all" style="width:101%;border-collapse: collapse; margin-bottom:-1px; margin-left:-7px;border:0px">
																	<thead>
																	   <tr ng-repeat="trquestion in questionSon.question track by $index" ng-if="$index==0">
																		   <td class="table_single_four_cols1" ng-repeat="tdquestion in trquestion.td.td track by $index">{{tdquestion}}</td>
																		   <td class="table_single_four_cols1" ng-repeat="tdoption in trquestion.td.option track by $index">
																				<span class="select_answer" ng-if="tdoption=='all'">
																					<span class="answer_1" ng-repeat="tdoption in trquestion.option track by $index">
																						{{tdoption.description}}
																					</span>
																				</span>
																		   </td>
																			<td style="padding:9px; width:53px">分数</td>
																			<td style="padding:9px; width:157px;">正确答案</td>
																			<td style="padding:9px; width:104px;">应得分数</td>
																		</tr>
																	</thead>
																	<tbody>
																		<tr ng-repeat="trquestion in questionSon.question track by $index" ng-if="$index!=0">
																			<td class="table_single_four_cols1" ng-repeat="tdquestion in trquestion.td.td track by $index">{{tdquestion}}</td>
																			<td class="table_single_four_cols1" ng-repeat="tdoption in trquestion.td.option track by $index">
																				<span class="select_answer" ng-if="tdoption=='all'">
																					<span class="answer_1" ng-repeat="tdoption in trquestion.option track by $index">
																						<i id="{{tdoption.id}}"></i><b>{{tdoption.description}}</b>
																					</span>
																				</span>
																			</td>
																			<td id="score{{trquestion.id}}" style="padding:9px; width:53px;" ng-repeat="tdoption in trquestion.td.option track by $index">
																			</td>
																			<td  style="padding:9px; width:157px;" ng-repeat="tdoption in trquestion.td.option track by $index">
																				<span ng-if="tdoption.isRight=='1'" class="answer_1" ng-repeat="tdoption in trquestion.option track by $index">
                                                                                   {{tdoption.description}}
																				</span>
																			</td>
																			<td style="padding:9px; width:104px;">
																					<b>{{trquestion.rate/vm.mainservice.sumscore*100|number:1}}</b>
																			</td>
																		</tr>
																	</tbody>
																</table>
															</span>
														</div>
													</td>
												</tr>
											</table>											
											<table ng-if="questionSon.type==4" frame="box" rules="all" style="width:100%;border-collapse: collapse;" cellpadding="0">
												<tr bordercolor="#D9D9D9" ng-class="{'bordTop':$index!=0}">
													<td width="524" class="table_contain_body_cols_2">
														<div class="model_3">
															<p class="question_title" ng-if="questionSon.description==''">{{$index+1}}.{{questionSon.description}}</p>
															<p class="question_title" style="width:100%;" ng-if="questionSon.description!=''">{{$index+1}}.{{questionSon.description}}</p>
															<span class="select_answer">
																<div class="answer_2" ng-repeat="option in questionSon.option track by $index">
																	<i id="{{option.id}}"></i>{{option.description}}
																	<div class="answer_2" style="margin-left:10%;" ng-repeat="optionSon in option.option track by $index">
																		<i id="{{optionSon.id}}"></i>{{optionSon.description}}
																	</div>
																</div>
															</span>
														</div>
													</td>
													<td id="score{{questionSon.id}}" width="53"></td>
													<td width="157">
														<div class="model_4">
															<span class="answer_table">
																<div ng-if="option.isRight=='1'" class="select_answer" ng-repeat="option in questionSon.option track by $index">
																	<b>{{option.description}}</b>
																	<div ng-if="optionSon.isRight=='1'" class="select_answer" style="margin-left:10%;" ng-repeat="optionSon in option.option track by $index">
																		<b >{{optionSon.description}}</b>
																	</div>
																</div>
															</span>
														</div>
													</td>
													<td class="text-center"><span ng-if="questionSon.rate!=''">{{questionSon.rate/vm.mainservice.sumscore*100|number:1}}</span></td>
												</tr>
											</table>
											
											<table  ng-if="questionSon.type==5" frame="box" rules="all" style="width:100%;border-collapse: collapse;" cellpadding="0">
												<tr bordercolor="#D9D9D9" ng-class="{'bordTop':$index!=0}">
													<td style="padding:0px;margin:0px"  class="table_contain_body_cols_2"  colspan="3">
														<div class="model_4">
															<p class="question_title">{{$index+1}}.{{questionSon.description}}</p>
															<span class="answer_table">
																<table class="table_single_four" cellpadding="0" cellspacing="0" border="1" bordercolor="#D9D9D9" rules="all" style="width:101%; margin-bottom:-1px; margin-left:-7px;border:0px">
																	<tbody>
																		<tr ng-repeat="tr in questionSon.question track by $index" >
																			<td  class="table_single_four_cols1" style="text-align: left;"  ng-if="td.isSub == null || td.isSub == ''">
																				{{tr.question.description[0].description}}
																				<div class="model_3">
																					<span class="select_answer" ng-repeat="option in tr.question.option track by $index" >
																						<div class="answer_2" style="margin-left:10%;">
																							<i id="{{option.id}}" ></i>{{option.description}}
																						</div>
																					</span>
																				</div>
																			</td>
																			<td class="table_single_four_cols1" style="text-align: left;"   ng-if="td.isSub == null || td.isSub == ''">
																				<div class="model_3">
																					<span class="select_answer" ng-repeat="option in tr.question.option track by $index">
																						<div class="answer_2"  ng-repeat="optionSon in option.option track by $index">
																							<i id="{{optionSon.id}}" ></i>{{optionSon.description}}
																						</div>
																					</span>
																				</div>
																			</td>
																			<td id="score{{tr.id}}" style="padding:9px; width:53px"></td>
																			<td style="padding:9px; width:157px;">
																				<span class="select_answer" ng-repeat="option in tr.question.option track by $index">
																					    <span ng-if="option.isRight=='1'">{{option.description}}</span>
																						<div ng-if="optionSon.isRight=='1'" class="answer_2"  ng-repeat="optionSon in option.option track by $index">
																							{{optionSon.description}}
																						</div>
																				</span>

																			</td>
																			<td style="padding:9px; width:104px;">
																				{{tr.rate/vm.mainservice.sumscore*100|number:1}}
																			</td>
																		</tr>
																	</tbody>
																</table>
															</span>
														</div>
													</td>
												</tr>
											</table>
									</object>
								</td>
								
							</tr>

						</table>

					</div>
					<!--右边正确答案下边步骤得分详情标题s-->
					<div class="stepsTittle">
						<i></i>
						<p>故障诊断操作步骤得分详情</p>
						<span>应得分数</span>
						<span style="width:270px;">所得分数</span>
					</div>
					<ul id="handleScore"></ul>

					<!--右边步骤得分详情标题e-->
					<!--右边步骤得分详情详细s-->

					<!--右边步骤得分详情详细e-->
					<!--右边步骤得分详情统计数据s-->
	<!--				<div class="RecordRightBottom">
						<span>操作{{vm.mainservice.totalCount}}次步骤</span>
						<p>共计：</p>
						<span>{{vm.mainservice.seconds/60|number:0}}分钟</span>
						<p>累计：</p>
					</div>-->
				</div>
				<!--右边分数详情e-->
										<!-- 分数详情结束  id=""-->
										<!--右边操作步骤详情s-->
										<div id="scoresDivId" class="learningRecordRight" style="display: none">
												<div class="stepsTittle">
													<div class="search_box">
														<input class="search_text" type="text" name="search" placeholder="搜索" />
														<button class="search_btn" ng-click="getSearchData()"></button>
													</div>
												</div>
												<!--右边步骤详情标题s-->
												<div class="stepsTittle">
													<i></i>
													<p>故障诊断操作步骤详情</p>
													<span>时间</span>
													<span style="width:409px;">得分</span>
												</div>
												<!--右边步骤详情详细s-->
												<ul>
													<li ng-repeat="x in vm.mainservice.result">
														<p ng-bind="x.description"></p>
														<b style="margin-right: 28px;" ng-bind="vm.getLocalTime(x.modifyDate)"></b>
														<b style="width:195px;" ng-bind="x.score">分</b>
													</li>
												</ul>
												<div class="paging">
                                                     <label id="pageNum"></label>
												</div>
												<!--右边步骤详情详细e-->
												<!--右边步骤详情统计数据s-->
												<div class="RecordRightBottom">
													<span>操作{{vm.mainservice.totalCount}}次步骤</span>
													<p>共计：</p>
												</div>
												<!--右边步骤详情统计数据e-->
										</div>
										<!--右边操作步骤详情e-->
										</div>
									</div>
							  </td>
							</tr>
						  </tbody>
						</table>
						 </div>
					</div>
						
						
						<div class="row">
								<br/><br/>
						</div>
						
					</div>
				</div>
				<div style="clear:both;"></div>

			</div>
					<!-- 容器结束-->
		</div>

</div>

	<script type="text/javascript">
		
		$(".nav.nav-pills li a").click(function(e){
			$(this).addClass("active").parent().siblings().find("a").removeClass("active");
		})

		function operate(num) {
			if(num == 1) {
				$("#scoresDivId").show();
				$("#operateDivId").hide();
				$("#answerDivId").hide();
			}else if(num == 2) {
				$("#scoresDivId").hide();
				$("#operateDivId ,#handleScore").show();
				$("#answerDivId").hide();
			}else if(num == 3) {
				$("#scoresDivId").hide();
				$("#operateDivId,#handleScore").hide();
				$("#answerDivId").show();
			}
		}
	</script>
